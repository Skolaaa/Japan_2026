<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Japan Winter Adventure 2025 | Interactive Travel Map</title>
    <meta name="description" content="Follow my optimized 21-day winter adventure through Japan: Tokyo → Mt. Fuji → Japanese Alps → Kyoto → Osaka | January 18 - February 7, 2025">
    <meta name="keywords" content="Japan travel, winter itinerary, Tokyo, Mt. Fuji, Kyoto, Osaka, travel map">
    
    <!-- Open Graph metadata for social sharing -->
    <meta property="og:title" content="Japan Winter Adventure 2025">
    <meta property="og:description" content="Interactive 21-day winter journey through Japan with animated route and timeline">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://skolaaa.github.io/Japan_2026/">
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" 
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" 
          crossorigin=""/>
    
    <!-- Leaflet Plugins CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.timeline@1.5.0/dist/leaflet.timeline.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/styles.css">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🗾</text></svg>">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="assets/js/travel_data.js" as="script">
    <link rel="preload" href="assets/js/map.js" as="script">
</head>
<body>
    <header class="header">
        <h1>🗾 Japan Winter Adventure 2025</h1>
        <p class="subtitle">January 18 - February 7 • Optimized 21-Day Route with Interactive Timeline</p>
        <div class="trip-stats">
            <span class="stat">📍 5 Base Locations</span>
            <span class="stat">💰 ¥431,000 Total Budget</span>
            <span class="stat">🚄 Optimized Transportation</span>
        </div>
    </header>

    <main>
        <!-- Interactive Map with Timeline Controls -->
        <div class="map-timeline-container">
            <div id="map" class="map-container" aria-label="Interactive map showing Japan winter travel route with animation"></div>
            
            <!-- Timeline Controls -->
            <div class="timeline-controls" role="region" aria-label="Travel timeline controls">
                <div class="timeline-header">
                    <h3>📅 Daily Timeline</h3>
                    <div class="timeline-info">
                        <span id="current-day">Day 1</span>
                        <span id="current-date">January 18, 2025</span>
                        <span id="current-location">Tokyo</span>
                    </div>
                </div>
                
                <div class="timeline-slider-container">
                    <input type="range" 
                           id="timeline-slider" 
                           min="1" 
                           max="21" 
                           value="1" 
                           class="timeline-slider"
                           aria-label="Navigate through 21-day itinerary">
                    <div class="timeline-markers">
                        <span class="marker tokyo" data-day="1">Tokyo</span>
                        <span class="marker fuji" data-day="8">Mt. Fuji</span>
                        <span class="marker alps" data-day="11">Alps</span>
                        <span class="marker kyoto" data-day="15">Kyoto</span>
                        <span class="marker osaka" data-day="19">Osaka</span>
                    </div>
                </div>
                
                <div class="timeline-controls-buttons">
                    <button id="play-pause" class="control-btn" aria-label="Play/pause timeline animation">
                        <span class="icon">▶️</span>
                        <span class="text">Play Route</span>
                    </button>
                    <button id="reset-timeline" class="control-btn" aria-label="Reset timeline to beginning">
                        <span class="icon">⏮️</span>
                        <span class="text">Reset</span>
                    </button>
                    <button id="show-full-route" class="control-btn" aria-label="Show complete route">
                        <span class="icon">🗺️</span>
                        <span class="text">Full Route</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Enhanced Itinerary Information -->
        <section class="info-panel">
            <!-- Week 1: Tokyo Foundation -->
            <div class="location-section tokyo-section">
                <div class="location-header">
                    <h2 class="location-title">🏙️ Tokyo - Cultural Foundation</h2>
                    <div class="location-meta">
                        <span class="duration">7 nights • January 18-25</span>
                        <span class="base-indicator">📍 Base Location</span>
                    </div>
                </div>
                
                <div class="location-content">
                    <div class="highlights">
                        <h3>Winter Highlights</h3>
                        <ul>
                            <li>🏮 Winter illuminations at Marunouchi & Roppongi</li>
                            <li>⛩️ Meiji Shrine New Year celebrations</li>
                            <li>🗼 Crystal clear Tokyo Skytree views</li>
                            <li>🍜 Hot street food at Tsukiji Market</li>
                        </ul>
                    </div>
                    
                    <div class="accommodations">
                        <h3>Recommended Stay: Shinjuku Area</h3>
                        <div class="accommodation-grid">
                            <div class="acc-tier luxury">
                                <h4>Luxury (¥40,000-65,000)</h4>
                                <p>Mandarin Oriental Tokyo, Park Hyatt Tokyo</p>
                            </div>
                            <div class="acc-tier mid-range">
                                <h4>Mid-Range (¥15,000-28,000)</h4>
                                <p>Hotel Century Southern Tower, Hotel Indigo Shibuya</p>
                            </div>
                            <div class="acc-tier budget">
                                <h4>Budget (¥8,000-12,000)</h4>
                                <p>Sotetsu Fresa Inn Higashi Shinjuku</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button class="location-focus-btn" onclick="focusLocation('tokyo')" aria-label="Focus map on Tokyo">
                    View on Map 🗺️
                </button>
            </div>

            <!-- Mt. Fuji Area -->
            <div class="location-section fuji-section">
                <div class="location-header">
                    <h2 class="location-title">🗻 Kawaguchi-ko - Mt. Fuji Base</h2>
                    <div class="location-meta">
                        <span class="duration">3 nights • January 25-28</span>
                        <span class="seasonal-event">🎆 Winter Fireworks Season</span>
                    </div>
                </div>
                
                <div class="location-content">
                    <div class="highlights">
                        <h3>Perfect Timing</h3>
                        <ul>
                            <li>🎆 Lake Kawaguchi Winter Fireworks (Jan 25-Feb 23)</li>
                            <li>🏔️ Highest Mt. Fuji visibility rates in winter</li>
                            <li>📸 Iconic reflection photography at sunrise</li>
                            <li>♨️ Traditional ryokan onsen experience</li>
                        </ul>
                    </div>
                    
                    <div class="pro-tip">
                        <h4>💡 Pro Tip</h4>
                        <p>Book lakeside ryokan with Mt. Fuji views for the ultimate fireworks viewing experience. Best photography: early morning for reflections!</p>
                    </div>
                </div>
                
                <button class="location-focus-btn" onclick="focusLocation('kawaguchi')" aria-label="Focus map on Kawaguchi-ko">
                    View on Map 🗺️
                </button>
            </div>

            <!-- Japanese Alps -->
            <div class="location-section alps-section">
                <div class="location-header">
                    <h2 class="location-title">🏔️ Takayama - Japanese Alps</h2>
                    <div class="location-meta">
                        <span class="duration">4 nights • January 28 - February 1</span>
                        <span class="seasonal-event">✨ Shirakawa-go Illuminations</span>
                    </div>
                </div>
                
                <div class="location-content">
                    <div class="highlights">
                        <h3>Alpine Culture</h3>
                        <ul>
                            <li>✨ Shirakawa-go winter illuminations (Feb 1)</li>
                            <li>🍶 Seven historic sake breweries (100+ years)</li>
                            <li>🥩 Premium Hida beef experiences</li>
                            <li>🏮 Miyagawa Morning Market in snow</li>
                        </ul>
                    </div>
                    
                    <div class="critical-timing">
                        <h4>⚠️ Critical Timing</h4>
                        <p>Shirakawa-go winter illumination on February 1 requires advance reservations. Book organized tour from Takayama or reserve parking well ahead.</p>
                    </div>
                </div>
                
                <button class="location-focus-btn" onclick="focusLocation('takayama')" aria-label="Focus map on Takayama">
                    View on Map 🗺️
                </button>
            </div>

            <!-- Kansai Region -->
            <div class="location-section kansai-section">
                <div class="location-header">
                    <h2 class="location-title">🏯 Kansai Cultural Circuit</h2>
                    <div class="location-meta">
                        <span class="duration">7 nights • February 1-7</span>
                        <span class="base-indicator">📍 Kyoto (4) + Osaka (3)</span>
                    </div>
                </div>
                
                <div class="location-content">
                    <div class="dual-cities">
                        <div class="city kyoto">
                            <h3>🏛️ Kyoto Traditional</h3>
                            <ul>
                                <li>❄️ Kinkaku-ji Golden Pavilion in snow</li>
                                <li>⛩️ Fushimi Inari with fewer crowds</li>
                                <li>🌸 Early plum blossoms at Kitano Tenmangu</li>
                                <li>🕯️ Winter illuminations at Kodai-ji</li>
                            </ul>
                        </div>
                        
                        <div class="city osaka">
                            <h3>🍜 Osaka Food Paradise</h3>
                            <ul>
                                <li>🐙 Hot takoyaki in Dotonbori district</li>
                                <li>🥞 Warm okonomiyaki experiences</li>
                                <li>🦐 Fresh seafood at Kuromon Market</li>
                                <li>🏰 Winter views from Osaka Castle</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="location-buttons">
                    <button class="location-focus-btn" onclick="focusLocation('kyoto')" aria-label="Focus map on Kyoto">
                        Kyoto Map 🗺️
                    </button>
                    <button class="location-focus-btn" onclick="focusLocation('osaka')" aria-label="Focus map on Osaka">
                        Osaka Map 🗺️
                    </button>
                </div>
            </div>

            <!-- Transportation Optimization -->
            <div class="info-section transport-optimization">
                <h2 class="section-title">🚄 Transportation Strategy</h2>
                <div class="cost-comparison">
                    <div class="cost-option not-recommended">
                        <h3>❌ Not Recommended</h3>
                        <p class="cost">21-Day JR Pass: ¥100,000</p>
                        <p class="reason">Cost-ineffective for this route</p>
                    </div>
                    
                    <div class="cost-option recommended">
                        <h3>✅ Optimized Strategy</h3>
                        <p class="cost">Regional Passes: ¥51,000</p>
                        <div class="breakdown">
                            <p>• JR Tokyo Wide Pass (3 days): ¥15,000</p>
                            <p>• Individual tickets: ¥25,000</p>
                            <p>• JR Kansai Wide Area Pass (5 days): ¥11,000</p>
                        </div>
                        <p class="savings">💰 Saves ¥49,000 with identical coverage!</p>
                    </div>
                </div>
                
                <div class="luggage-forwarding">
                    <h3>📦 Professional Luggage Forwarding</h3>
                    <p>Use takkyubin services (¥1,500-2,500 per transfer) to eliminate daily packing stress. Most hotels coordinate next-day delivery.</p>
                </div>
            </div>

            <!-- Winter Essentials -->
            <div class="info-section winter-essentials">
                <h2 class="section-title">❄️ Winter Travel Essentials</h2>
                <div class="essentials-grid">
                    <div class="essential-category">
                        <h3>🧥 Clothing</h3>
                        <ul>
                            <li>Heavy winter coat</li>
                            <li>Waterproof boots</li>
                            <li>Thermal layers</li>
                            <li>Hand/foot warmers</li>
                        </ul>
                    </div>
                    
                    <div class="essential-category">
                        <h3>📱 Technology</h3>
                        <ul>
                            <li>Portable phone charger</li>
                            <li>Camera protection</li>
                            <li>Offline maps download</li>
                            <li>Weather app</li>
                        </ul>
                    </div>
                    
                    <div class="essential-category">
                        <h3>🎫 Advance Bookings</h3>
                        <ul>
                            <li>Shirakawa-go illumination tour</li>
                            <li>Lakeside ryokan with Fuji views</li>
                            <li>High-demand restaurants</li>
                            <li>JR seat reservations</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <p>💰 This interactive map is completely free! Built with Leaflet.js + OpenStreetMap</p>
            <p>🌟 Hosted on GitHub Pages for $0/month • No API keys required</p>
            <div class="footer-links">
                <a href="https://github.com/Skolaaa/Japan_2026" target="_blank" rel="noopener" aria-label="View source code on GitHub">View Source Code</a>
                <span class="separator">•</span>
                <a href="#map" aria-label="Return to map">Back to Map</a>
            </div>
        </div>
    </footer>

    <!-- JavaScript Libraries -->
    <!-- Leaflet Core -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" 
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" 
            crossorigin=""></script>
    
    <!-- Leaflet Animation Plugins -->
    <script src="https://cdn.jsdelivr.net/npm/leaflet.polyline.snakeanim@0.1.1/dist/leaflet.polyline.snakeanim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet-polylinedecorator@1.6.0/dist/leaflet.polylineDecorator.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet.timeline@1.5.0/dist/leaflet.timeline.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script src="assets/js/travel_data.js"></script>
    <script src="assets/js/timeline-controller.js"></script>
    <script src="assets/js/animation-manager.js"></script>
    <script src="assets/js/map.js"></script>
    
    <!-- Performance monitoring (optional) -->
    <script>
        // Simple performance monitoring
        window.addEventListener('load', function() {
            const loadTime = performance.now();
            console.log(`🚀 Page loaded in ${Math.round(loadTime)}ms`);
            
            // Report Core Web Vitals if supported
            if ('PerformanceObserver' in window) {
                new PerformanceObserver((list) => {
                    for (const entry of list.getEntries()) {
                        console.log(`📊 ${entry.name}: ${Math.round(entry.value)}ms`);
                    }
                }).observe({entryTypes: ['navigation', 'paint']});
            }
        });
    </script>
</body>
</html>